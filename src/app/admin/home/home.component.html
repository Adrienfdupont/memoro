<div class="bg-gray-800 h-screen p-4 flex flex-col">
  <app-navigation></app-navigation>

  <main class="mt-4">
    <div
      class="grid gap-4 w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7"
    >
      <div
        *ngFor="let collection of collections"
        class="bg-white flex justify-center items-center aspect-[1/1] cursor-pointer"
      >
        <span>{{ collection.name }}</span>
      </div>

      <div
        class="bg-white flex justify-center items-center aspect-[1/1] cursor-pointer"
        (click)="toggleModal()"
      >
        <i class="material-icons text-7xl">add</i>
      </div>
    </div>

    <div>
      <div
        class="fixed inset-0 bg-black opacity-50 flex justify-between items-center"
        [ngClass]="{ hidden: !modalIsVisible }"
        (click)="toggleModal()"
      ></div>

      <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col gap-8 bg-white p-2 rounded-lg"
        [ngClass]="{ hidden: !modalIsVisible }"
      >
        <div class="flex justify-end">
          <i
            class="material-icons text-3xl hover:cursor-pointer"
            (click)="toggleModal()"
            >close</i
          >
        </div>

        <form
          [formGroup]="newCardForm"
          (ngSubmit)="submit()"
          class="p-8 flex flex-col gap-8"
        >
          <div class="flex flex-col">
            <label for="name">Name of the collection :</label>
            <input
              formControlName="name"
              required
              type="text"
              class="border-b-2 outline-none"
            />
          </div>

          <div class="h-8 relative">
            <p class="absolute text-red-700">
              {{ message }}
            </p>
          </div>

          <div class="flex justify-end items-center">
            <button
              type="submit"
              [disabled]="!newCardForm.valid"
              class="btn primary"
            >
              Add
            </button>
          </div>
        </form>
      </div>
    </div>
  </main>
</div>
